@model IEnumerable<SportAsso.Models.utilisateur>

@{
    ViewBag.Title = "Utilisateurs";
}

<h2>Liste des utilisateurs</h2>

@if (User.IsInRole("admin"))
{

    <p>
        @Html.ActionLink("Nouvel utilisateur", "Create")
    </p>

    using (Html.BeginForm())
    {
        <p>
            Recherche par nom d'utilisateur :  @Html.TextBox("SearchString")
            <input type="submit" value="Search" />
        </p>
    }

    <table class="table table-striped">
        <tr style="background-color: #a3a3a3; color: black;">
            <th>
                @Html.DisplayNameFor(model => model.utilisateur_id)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.login)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.password)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.prenom)
            </th>
            <th>
                @Html.ActionLink("Nom", "Index", new { sortOrder = ViewBag.NameSortParm })
            </th>
            <th>
                @Html.DisplayNameFor(model => model.adresse)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.telephone)
            </th>
            <th>
                @Html.ActionLink("Role", "Index", new { sortOrder = ViewBag.RoleSortParm })
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.utilisateur_id)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.login)
                </td>
                <td>
                    @Html.Raw("\u2022\u2022\u2022\u2022\u2022")
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.prenom)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.nom)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.adresse)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.telephone)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.role_utilisateur)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.utilisateur_id }) |
                    @Html.ActionLink("Details", "Details", new { id = item.utilisateur_id }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.utilisateur_id })
                </td>
            </tr>


        }

    </table>

}

@if (User.IsInRole("adherent"))
{
    @HttpContext.Current.User.Identity.Name
    

}



